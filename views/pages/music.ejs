<%- include('../partials/header'); %>
<body style="background-color: #D616DE;">
    <div id="pageHeader" class="container text-center">
        <h1 style="margin: 1%;">Music</h1>
        <h2>Original Compositions</h2>
    </div>   
    <div class="container d-flex flex-wrap justify-content-center">
        <% var title %>
        <% var fileName %>
        <% for(var i = 0; i < numFiles; i++) { %>
            <% fileName = fileNames[i];%>
            <% year = years[i] %>
            <% title = fileName.slice(0,-4).replace(/([A-Z])/g, ' $1'); %>
            <div class="song-card">
                <div>
                    <div style="position: absolute">
                        <div style="background-color: black; opacity: 0.8; color: white; font-size: 14pt; padding: 1vh; margin: 1.5vh">
                            <%= title %>
                        </div>
                        <div style="background-color: black; opacity: 0.8; color: white; font-size: 8pt; margin: 0 1.5vh; padding: 0.5vh 1vh; width: 5vh;">
                            <%= year %>
                        </div>
                    </div>
                    <img class="card-img-top"  style="width: 100%;" src="/content/music/cover/<%= fileName.replace('.mp3','.jpg') %>" alt="Cover image not found">
                </div>
                <div>
                    <audio controls preload="metadata" style="width: 100%;">
                        <source src="/content/music/<%= fileName %>" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                </div>
            </div>
        <% } %>
    </div>
    <%- include('../partials/footer'); %>